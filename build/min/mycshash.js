!function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=r[s]={exports:{}};t[s][0].call(h.exports,function(e){var r=t[s][1][e];return i(r?r:e)},h,h.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){"use strict";!function(e){function n(e,t,r){var n,i,o,s,a,u,d,y,b,w=0,g=[],v=0,A=!1,E=[],S=[],j=!1,x=!1;if(r=r||{},n=r.encoding||"UTF8",b=r.numRounds||1,o=m(t,n),b!==parseInt(b,10)||1>b)throw Error("numRounds must a integer >= 1");if("SHA-1"===e)a=512,u=B,d=z,s=160,y=function(e){return e.slice()};else if(0===e.lastIndexOf("SHA-",0))if(u=function(t,r){return N(t,r,e)},d=function(t,r,n,i){var o,s;if("SHA-224"===e||"SHA-256"===e)o=(r+65>>>9<<4)+15,s=16;else{if("SHA-384"!==e&&"SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");o=(r+129>>>10<<5)+31,s=32}for(;t.length<=o;)t.push(0);for(t[r>>>5]|=128<<24-r%32,r+=n,t[o]=4294967295&r,t[o-1]=r/4294967296|0,n=t.length,r=0;r<n;r+=s)i=N(t.slice(r,r+s),i,e);if("SHA-224"===e)t=[i[0],i[1],i[2],i[3],i[4],i[5],i[6]];else if("SHA-256"===e)t=i;else if("SHA-384"===e)t=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b];else{if("SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");t=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b,i[6].a,i[6].b,i[7].a,i[7].b]}return t},y=function(e){return e.slice()},"SHA-224"===e)a=512,s=224;else if("SHA-256"===e)a=512,s=256;else if("SHA-384"===e)a=1024,s=384;else{if("SHA-512"!==e)throw Error("Chosen SHA variant is not supported");a=1024,s=512}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var O=6;if(u=Z,y=function(e){var t,r=[];for(t=0;5>t;t+=1)r[t]=e[t].slice();return r},"SHA3-224"===e)a=1152,s=224;else if("SHA3-256"===e)a=1088,s=256;else if("SHA3-384"===e)a=832,s=384;else if("SHA3-512"===e)a=576,s=512;else if("SHAKE128"===e)a=1344,s=-1,O=31,x=!0;else{if("SHAKE256"!==e)throw Error("Chosen SHA variant is not supported");a=1088,s=-1,O=31,x=!0}d=function(e,t,r,n,i){r=a;var o,s=O,u=[],f=r>>>5,h=0,c=t>>>5;for(o=0;o<c&&t>=r;o+=f)n=Z(e.slice(o,o+f),n),t-=r;for(e=e.slice(o),t%=r;e.length<f;)e.push(0);for(o=t>>>3,e[o>>2]^=s<<24-o%4*8,e[f-1]^=128,n=Z(e,n);32*u.length<i&&(e=n[h%5][h/5|0],u.push((255&e.b)<<24|(65280&e.b)<<8|(16711680&e.b)>>8|e.b>>>24),!(32*u.length>=i));)u.push((255&e.a)<<24|(65280&e.a)<<8|(16711680&e.a)>>8|e.a>>>24),h+=1,0===64*h%r&&Z(null,n);return u}}i=L(e),this.setHMACKey=function(t,r,o){var f;if(!0===A)throw Error("HMAC key already set");if(!0===j)throw Error("Cannot set HMAC key after calling update");if(!0===x)throw Error("SHAKE is not supported for HMAC");if(n=(o||{}).encoding||"UTF8",r=m(r,n)(t),t=r.binLen,r=r.value,f=a>>>3,o=f/4-1,f<t/8){for(r=d(r,t,0,L(e),s);r.length<=o;)r.push(0);r[o]&=4294967040}else if(f>t/8){for(;r.length<=o;)r.push(0);r[o]&=4294967040}for(t=0;t<=o;t+=1)E[t]=909522486^r[t],S[t]=1549556828^r[t];i=u(E,i),w=a,A=!0},this.update=function(e){var t,r,n,s=0,f=a>>>5;for(t=o(e,g,v),e=t.binLen,r=t.value,t=e>>>5,n=0;n<t;n+=f)s+a<=e&&(i=u(r.slice(n,n+f),i),s+=a);w+=s,g=r.slice(s>>>5),v=e%a,j=!0},this.getHash=function(t,r){var n,o,a,u;if(!0===A)throw Error("Cannot call getHash after setting HMAC key");if(a=p(r),!0===x){if(-1===a.shakeLen)throw Error("shakeLen must be specified in options");s=a.shakeLen}switch(t){case"HEX":n=function(e){return f(e,s,a)};break;case"B64":n=function(e){return h(e,s,a)};break;case"BYTES":n=function(e){return c(e,s)};break;case"ARRAYBUFFER":try{o=new ArrayBuffer(0)}catch(m){throw Error("ARRAYBUFFER not supported by this environment")}n=function(e){return l(e,s)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(u=d(g.slice(),v,w,y(i),s),o=1;o<b;o+=1)!0===x&&0!==s%32&&(u[u.length-1]&=4294967040<<24-s%32),u=d(u,s,0,L(e),s);return n(u)},this.getHMAC=function(t,r){var n,o,m,b;if(!1===A)throw Error("Cannot call getHMAC without first setting HMAC key");switch(m=p(r),t){case"HEX":n=function(e){return f(e,s,m)};break;case"B64":n=function(e){return h(e,s,m)};break;case"BYTES":n=function(e){return c(e,s)};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(E){throw Error("ARRAYBUFFER not supported by this environment")}n=function(e){return l(e,s)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return o=d(g.slice(),v,w,y(i),s),b=u(S,L(e)),b=d(o,s,a,b,s),n(b)}}function i(e,t){this.a=e,this.b=t}function o(e,t,r){var n,i,o,s,a,u=e.length;if(t=t||[0],r=r||0,a=r>>>3,0!==u%2)throw Error("String of HEX type must be in byte increments");for(n=0;n<u;n+=2){if(i=parseInt(e.substr(n,2),16),isNaN(i))throw Error("String of HEX type contains invalid characters");for(s=(n>>>1)+a,o=s>>>2;t.length<=o;)t.push(0);t[o]|=i<<8*(3-s%4)}return{value:t,binLen:4*u+r}}function s(e,t,r){var n,i,o,s,a=[],a=t||[0];for(r=r||0,i=r>>>3,n=0;n<e.length;n+=1)t=e.charCodeAt(n),s=n+i,o=s>>>2,a.length<=o&&a.push(0),a[o]|=t<<8*(3-s%4);return{value:a,binLen:8*e.length+r}}function a(e,t,r){var n,i,o,s,a,u,f=[],h=0,f=t||[0];if(r=r||0,t=r>>>3,-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(i=e.indexOf("="),e=e.replace(/\=/g,""),-1!==i&&i<e.length)throw Error("Invalid '=' found in base-64 string");for(i=0;i<e.length;i+=4){for(a=e.substr(i,4),o=s=0;o<a.length;o+=1)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[o]),s|=n<<18-6*o;for(o=0;o<a.length-1;o+=1){for(u=h+t,n=u>>>2;f.length<=n;)f.push(0);f[n]|=(s>>>16-8*o&255)<<8*(3-u%4),h+=1}}return{value:f,binLen:8*h+r}}function u(e,t,r){var n,i,o,s=[],s=t||[0];for(r=r||0,n=r>>>3,t=0;t<e.byteLength;t+=1)o=t+n,i=o>>>2,s.length<=i&&s.push(0),s[i]|=e[t]<<8*(3-o%4);return{value:s,binLen:8*e.byteLength+r}}function f(e,t,r){var n="";t/=8;var i,o;for(i=0;i<t;i+=1)o=e[i>>>2]>>>8*(3-i%4),n+="0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o);return r.outputUpper?n.toUpperCase():n}function h(e,t,r){var n,i,o,s="",a=t/8;for(n=0;n<a;n+=3)for(i=n+1<a?e[n+1>>>2]:0,o=n+2<a?e[n+2>>>2]:0,o=(e[n>>>2]>>>8*(3-n%4)&255)<<16|(i>>>8*(3-(n+1)%4)&255)<<8|o>>>8*(3-(n+2)%4)&255,i=0;4>i;i+=1)s+=8*n+6*i<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-i)&63):r.b64Pad;return s}function c(e,t){var r,n,i="",o=t/8;for(r=0;r<o;r+=1)n=e[r>>>2]>>>8*(3-r%4)&255,i+=String.fromCharCode(n);return i}function l(e,t){var r,n=t/8,i=new ArrayBuffer(n);for(r=0;r<n;r+=1)i[r]=e[r>>>2]>>>8*(3-r%4)&255;return i}function p(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),!0===e.hasOwnProperty("shakeLen")){if(0!==e.shakeLen%8)throw Error("shakeLen must be a multiple of 8");t.shakeLen=e.shakeLen}if("boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function m(e,t){var r;switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":r=o;break;case"TEXT":r=function(e,r,n){var i,o,s,a,u,f=[],h=[],c=0,f=r||[0];if(r=n||0,s=r>>>3,"UTF8"===t)for(i=0;i<e.length;i+=1)for(n=e.charCodeAt(i),h=[],128>n?h.push(n):2048>n?(h.push(192|n>>>6),h.push(128|63&n)):55296>n||57344<=n?h.push(224|n>>>12,128|n>>>6&63,128|63&n):(i+=1,n=65536+((1023&n)<<10|1023&e.charCodeAt(i)),h.push(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|63&n)),o=0;o<h.length;o+=1){for(u=c+s,a=u>>>2;f.length<=a;)f.push(0);f[a]|=h[o]<<8*(3-u%4),c+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(i=0;i<e.length;i+=1){for(n=e.charCodeAt(i),"UTF16LE"===t&&(o=255&n,n=o<<8|n>>>8),u=c+s,a=u>>>2;f.length<=a;)f.push(0);f[a]|=n<<8*(2-u%4),c+=2}return{value:f,binLen:8*c+r}};break;case"B64":r=a;break;case"BYTES":r=s;break;case"ARRAYBUFFER":try{r=new ArrayBuffer(0)}catch(n){throw Error("ARRAYBUFFER not supported by this environment")}r=u;break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return r}function d(e,t){return e<<t|e>>>32-t}function y(e,t){return 32<t?(t-=32,new i(e.b<<t|e.a>>>32-t,e.a<<t|e.b>>>32-t)):0!==t?new i(e.a<<t|e.b>>>32-t,e.b<<t|e.a>>>32-t):e}function b(e,t){return e>>>t|e<<32-t}function w(e,t){var r=null,r=new i(e.a,e.b);return r=32>=t?new i(r.a>>>t|r.b<<32-t&4294967295,r.b>>>t|r.a<<32-t&4294967295):new i(r.b>>>t-32|r.a<<64-t&4294967295,r.a>>>t-32|r.b<<64-t&4294967295)}function g(e,t){var r=null;return r=32>=t?new i(e.a>>>t,e.b>>>t|e.a<<32-t&4294967295):new i(0,e.a>>>t-32)}function v(e,t,r){return e&t^~e&r}function A(e,t,r){return new i(e.a&t.a^~e.a&r.a,e.b&t.b^~e.b&r.b)}function E(e,t,r){return e&t^e&r^t&r}function S(e,t,r){return new i(e.a&t.a^e.a&r.a^t.a&r.a,e.b&t.b^e.b&r.b^t.b&r.b)}function j(e){return b(e,2)^b(e,13)^b(e,22)}function x(e){var t=w(e,28),r=w(e,34);return e=w(e,39),new i(t.a^r.a^e.a,t.b^r.b^e.b)}function O(e){return b(e,6)^b(e,11)^b(e,25)}function $(e){var t=w(e,14),r=w(e,18);return e=w(e,41),new i(t.a^r.a^e.a,t.b^r.b^e.b)}function k(e){return b(e,7)^b(e,18)^e>>>3}function P(e){var t=w(e,1),r=w(e,8);return e=g(e,7),new i(t.a^r.a^e.a,t.b^r.b^e.b)}function _(e){return b(e,17)^b(e,19)^e>>>10}function q(e){var t=w(e,19),r=w(e,61);return e=g(e,6),new i(t.a^r.a^e.a,t.b^r.b^e.b)}function H(e,t){var r=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(r>>>16)&65535)<<16|65535&r}function F(e,t,r,n){var i=(65535&e)+(65535&t)+(65535&r)+(65535&n);return((e>>>16)+(t>>>16)+(r>>>16)+(n>>>16)+(i>>>16)&65535)<<16|65535&i}function I(e,t,r,n,i){var o=(65535&e)+(65535&t)+(65535&r)+(65535&n)+(65535&i);return((e>>>16)+(t>>>16)+(r>>>16)+(n>>>16)+(i>>>16)+(o>>>16)&65535)<<16|65535&o}function C(e,t){var r,n,o;return r=(65535&e.b)+(65535&t.b),n=(e.b>>>16)+(t.b>>>16)+(r>>>16),o=(65535&n)<<16|65535&r,r=(65535&e.a)+(65535&t.a)+(n>>>16),n=(e.a>>>16)+(t.a>>>16)+(r>>>16),new i((65535&n)<<16|65535&r,o)}function R(e,t,r,n){var o,s,a;return o=(65535&e.b)+(65535&t.b)+(65535&r.b)+(65535&n.b),s=(e.b>>>16)+(t.b>>>16)+(r.b>>>16)+(n.b>>>16)+(o>>>16),a=(65535&s)<<16|65535&o,o=(65535&e.a)+(65535&t.a)+(65535&r.a)+(65535&n.a)+(s>>>16),s=(e.a>>>16)+(t.a>>>16)+(r.a>>>16)+(n.a>>>16)+(o>>>16),new i((65535&s)<<16|65535&o,a)}function U(e,t,r,n,o){var s,a,u;return s=(65535&e.b)+(65535&t.b)+(65535&r.b)+(65535&n.b)+(65535&o.b),a=(e.b>>>16)+(t.b>>>16)+(r.b>>>16)+(n.b>>>16)+(o.b>>>16)+(s>>>16),u=(65535&a)<<16|65535&s,s=(65535&e.a)+(65535&t.a)+(65535&r.a)+(65535&n.a)+(65535&o.a)+(a>>>16),a=(e.a>>>16)+(t.a>>>16)+(r.a>>>16)+(n.a>>>16)+(o.a>>>16)+(s>>>16),new i((65535&a)<<16|65535&s,u)}function T(e){var t,r=0,n=0;for(t=0;t<arguments.length;t+=1)r^=arguments[t].b,n^=arguments[t].a;return new i(n,r)}function L(e){var t,r=[];if("SHA-1"===e)r=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===e.lastIndexOf("SHA-",0))switch(r=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],t=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":break;case"SHA-256":r=t;break;case"SHA-384":r=[new i(3418070365,r[0]),new i(1654270250,r[1]),new i(2438529370,r[2]),new i(355462360,r[3]),new i(1731405415,r[4]),new i(41048885895,r[5]),new i(3675008525,r[6]),new i(1203062813,r[7])];break;case"SHA-512":r=[new i(t[0],4089235720),new i(t[1],2227873595),new i(t[2],4271175723),new i(t[3],1595750129),new i(t[4],2917565137),new i(t[5],725511199),new i(t[6],4215389547),new i(t[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(e=0;5>e;e+=1)r[e]=[new i(0,0),new i(0,0),new i(0,0),new i(0,0),new i(0,0)]}return r}function B(e,t){var r,n,i,o,s,a,u,f=[];for(r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],u=0;80>u;u+=1)f[u]=16>u?e[u]:d(f[u-3]^f[u-8]^f[u-14]^f[u-16],1),a=20>u?I(d(r,5),n&i^~n&o,s,1518500249,f[u]):40>u?I(d(r,5),n^i^o,s,1859775393,f[u]):60>u?I(d(r,5),E(n,i,o),s,2400959708,f[u]):I(d(r,5),n^i^o,s,3395469782,f[u]),s=o,o=i,i=d(n,30),n=r,r=a;return t[0]=H(r,t[0]),t[1]=H(n,t[1]),t[2]=H(i,t[2]),t[3]=H(o,t[3]),t[4]=H(s,t[4]),t}function z(e,t,r,n){var i;for(i=(t+65>>>9<<4)+15;e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,t+=r,e[i]=4294967295&t,e[i-1]=t/4294967296|0,t=e.length,i=0;i<t;i+=16)n=B(e.slice(i,i+16),n);return n}function N(e,t,r){var n,o,s,a,u,f,h,c,l,p,m,d,y,b,w,g,T,L,B,z,N,Z,X,Y=[];if("SHA-224"===r||"SHA-256"===r)p=64,d=1,Z=Number,y=H,b=F,w=I,g=k,T=_,L=j,B=O,N=E,z=v,X=M;else{if("SHA-384"!==r&&"SHA-512"!==r)throw Error("Unexpected error in SHA-2 implementation");p=80,d=2,Z=i,y=C,b=R,w=U,g=P,T=q,L=x,B=$,N=S,z=A,X=J}for(r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],f=t[6],h=t[7],m=0;m<p;m+=1)16>m?(l=m*d,c=e.length<=l?0:e[l],l=e.length<=l+1?0:e[l+1],Y[m]=new Z(c,l)):Y[m]=b(T(Y[m-2]),Y[m-7],g(Y[m-15]),Y[m-16]),c=w(h,B(a),z(a,u,f),X[m],Y[m]),l=y(L(r),N(r,n,o)),h=f,f=u,u=a,a=y(s,c),s=o,o=n,n=r,r=y(c,l);return t[0]=y(r,t[0]),t[1]=y(n,t[1]),t[2]=y(o,t[2]),t[3]=y(s,t[3]),t[4]=y(a,t[4]),t[5]=y(u,t[5]),t[6]=y(f,t[6]),t[7]=y(h,t[7]),t}function Z(e,t){var r,n,o,s,a=[],u=[];if(null!==e)for(n=0;n<e.length;n+=2)t[(n>>>1)%5][(n>>>1)/5|0]=T(t[(n>>>1)%5][(n>>>1)/5|0],new i((255&e[n+1])<<24|(65280&e[n+1])<<8|(16711680&e[n+1])>>>8|e[n+1]>>>24,(255&e[n])<<24|(65280&e[n])<<8|(16711680&e[n])>>>8|e[n]>>>24));for(r=0;24>r;r+=1){for(s=L("SHA3-"),n=0;5>n;n+=1)a[n]=T(t[n][0],t[n][1],t[n][2],t[n][3],t[n][4]);for(n=0;5>n;n+=1)u[n]=T(a[(n+4)%5],y(a[(n+1)%5],1));for(n=0;5>n;n+=1)for(o=0;5>o;o+=1)t[n][o]=T(t[n][o],u[n]);for(n=0;5>n;n+=1)for(o=0;5>o;o+=1)s[o][(2*n+3*o)%5]=y(t[n][o],X[n][o]);for(n=0;5>n;n+=1)for(o=0;5>o;o+=1)t[n][o]=T(s[n][o],new i(~s[(n+1)%5][o].a&s[(n+2)%5][o].a,~s[(n+1)%5][o].b&s[(n+2)%5][o].b));t[0][0]=T(t[0][0],Y[r])}return t}var M,J,X,Y;M=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],J=[new i(M[0],3609767458),new i(M[1],602891725),new i(M[2],3964484399),new i(M[3],2173295548),new i(M[4],4081628472),new i(M[5],3053834265),new i(M[6],2937671579),new i(M[7],3664609560),new i(M[8],2734883394),new i(M[9],1164996542),new i(M[10],1323610764),new i(M[11],3590304994),new i(M[12],4068182383),new i(M[13],991336113),new i(M[14],633803317),new i(M[15],3479774868),new i(M[16],2666613458),new i(M[17],944711139),new i(M[18],2341262773),new i(M[19],2007800933),new i(M[20],1495990901),new i(M[21],1856431235),new i(M[22],3175218132),new i(M[23],2198950837),new i(M[24],3999719339),new i(M[25],766784016),new i(M[26],2566594879),new i(M[27],3203337956),new i(M[28],1034457026),new i(M[29],2466948901),new i(M[30],3758326383),new i(M[31],168717936),new i(M[32],1188179964),new i(M[33],1546045734),new i(M[34],1522805485),new i(M[35],2643833823),new i(M[36],2343527390),new i(M[37],1014477480),new i(M[38],1206759142),new i(M[39],344077627),new i(M[40],1290863460),new i(M[41],3158454273),new i(M[42],3505952657),new i(M[43],106217008),new i(M[44],3606008344),new i(M[45],1432725776),new i(M[46],1467031594),new i(M[47],851169720),new i(M[48],3100823752),new i(M[49],1363258195),new i(M[50],3750685593),new i(M[51],3785050280),new i(M[52],3318307427),new i(M[53],3812723403),new i(M[54],2003034995),new i(M[55],3602036899),new i(M[56],1575990012),new i(M[57],1125592928),new i(M[58],2716904306),new i(M[59],442776044),new i(M[60],593698344),new i(M[61],3733110249),new i(M[62],2999351573),new i(M[63],3815920427),new i(3391569614,3928383900),new i(3515267271,566280711),new i(3940187606,3454069534),new i(4118630271,4000239992),new i(116418474,1914138554),new i(174292421,2731055270),new i(289380356,3203993006),new i(460393269,320620315),new i(685471733,587496836),new i(852142971,1086792851),new i(1017036298,365543100),new i(1126000580,2618297676),new i(1288033470,3409855158),new i(1501505948,4234509866),new i(1607167915,987167468),new i(1816402316,1246189591)],Y=[new i(0,1),new i(0,32898),new i(2147483648,32906),new i(2147483648,2147516416),new i(0,32907),new i(0,2147483649),new i(2147483648,2147516545),new i(2147483648,32777),new i(0,138),new i(0,136),new i(0,2147516425),new i(0,2147483658),new i(0,2147516555),new i(2147483648,139),new i(2147483648,32905),new i(2147483648,32771),new i(2147483648,32770),new i(2147483648,128),new i(0,32778),new i(2147483648,2147483658),new i(2147483648,2147516545),new i(2147483648,32896),new i(0,2147483649),new i(2147483648,2147516424)],X=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof r?("undefined"!=typeof t&&t.exports&&(t.exports=n),r=n):e.jsSHA=n}(this)},{}],2:[function(e,t,r){(function(e){!function(n){function i(e){throw new RangeError(F[e])}function o(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function s(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(H,".");var i=e.split("."),s=o(i,t).join(".");return n+s}function a(e){for(var t,r,n=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function u(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function c(e,t,r){var n=0;for(e=r?C(e/O):e>>1,e+=C(e/t);e>I*j>>1;n+=E)e=C(e/I);return C(n+(I+1)*e/(e+x))}function l(e){var t,r,n,o,s,a,h,l,p,m,d=[],y=e.length,b=0,w=k,g=$;for(r=e.lastIndexOf(P),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&i("not-basic"),d.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<y;){for(s=b,a=1,h=E;o>=y&&i("invalid-input"),l=f(e.charCodeAt(o++)),(l>=E||l>C((A-b)/a))&&i("overflow"),b+=l*a,p=h<=g?S:h>=g+j?j:h-g,!(l<p);h+=E)m=E-p,a>C(A/m)&&i("overflow"),a*=m;t=d.length+1,g=c(b-s,t,0==s),C(b/t)>A-w&&i("overflow"),w+=C(b/t),b%=t,d.splice(b++,0,w)}return u(d)}function p(e){var t,r,n,o,s,u,f,l,p,m,d,y,b,w,g,v=[];for(e=a(e),y=e.length,t=k,r=0,s=$,u=0;u<y;++u)d=e[u],d<128&&v.push(R(d));for(n=o=v.length,o&&v.push(P);n<y;){for(f=A,u=0;u<y;++u)d=e[u],d>=t&&d<f&&(f=d);for(b=n+1,f-t>C((A-r)/b)&&i("overflow"),r+=(f-t)*b,t=f,u=0;u<y;++u)if(d=e[u],d<t&&++r>A&&i("overflow"),d==t){for(l=r,p=E;m=p<=s?S:p>=s+j?j:p-s,!(l<m);p+=E)g=l-m,w=E-m,v.push(R(h(m+g%w,0))),l=C(g/w);v.push(R(h(l,0))),s=c(r,b,n==o),r=0,++n}++r,++t}return v.join("")}function m(e){return s(e,function(e){return _.test(e)?l(e.slice(4).toLowerCase()):e})}function d(e){return s(e,function(e){return q.test(e)?"xn--"+p(e):e})}var y="object"==typeof r&&r&&!r.nodeType&&r,b="object"==typeof t&&t&&!t.nodeType&&t,w="object"==typeof e&&e;w.global!==w&&w.window!==w&&w.self!==w||(n=w);var g,v,A=2147483647,E=36,S=1,j=26,x=38,O=700,$=72,k=128,P="-",_=/^xn--/,q=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=E-S,C=Math.floor,R=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:a,encode:u},decode:l,encode:p,toASCII:d,toUnicode:m},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(y&&b)if(t.exports==y)b.exports=g;else for(v in g)g.hasOwnProperty(v)&&(y[v]=g[v]);else n.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var f=e.length;u>0&&f>u&&(f=u);for(var h=0;h<f;++h){var c,l,p,m,d=e[h].replace(a,"%20"),y=d.indexOf(r);y>=0?(c=d.substr(0,y),l=d.substr(y+1)):(c=d,l=""),p=decodeURIComponent(c),m=decodeURIComponent(l),n(s,p)?i(s[p])?s[p].push(m):s[p]=[s[p],m]:s[p]=m}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var a=encodeURIComponent(i(s))+r;return o(e[s])?n(e[s],function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[s]))}).join(t):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],5:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":3,"./encode":4}],6:[function(e,t,r){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,r){if(e&&f(e)&&e instanceof n)return e;var i=new n;return i.parse(e,t,r),i}function o(e){return u(e)&&(e=i(e)),e instanceof n?e.format():n.prototype.format.call(e)}function s(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}function u(e){return"string"==typeof e}function f(e){return"object"==typeof e&&null!==e}function h(e){return null===e}function c(e){return null==e}var l=e("punycode");r.parse=i,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=n;var p=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,d=["<",">",'"',"`"," ","\r","\n","\t"],y=["{","}","|","\\","^","`"].concat(d),b=["'"].concat(y),w=["%","/","?",";","#"].concat(b),g=["/","?","#"],v=255,A=/^[a-z0-9A-Z_-]{0,63}$/,E=/^([a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},j={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=e("querystring");n.prototype.parse=function(e,t,r){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e;n=n.trim();var i=p.exec(n);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,n=n.substr(i.length)}if(r||i||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===n.substr(0,2);!s||i&&j[i]||(n=n.substr(2),this.slashes=!0)}if(!j[i]&&(s||i&&!x[i])){for(var a=-1,f=0;f<g.length;f++){var h=n.indexOf(g[f]);h!==-1&&(a===-1||h<a)&&(a=h)}var c,m;m=a===-1?n.lastIndexOf("@"):n.lastIndexOf("@",a),m!==-1&&(c=n.slice(0,m),n=n.slice(m+1),this.auth=decodeURIComponent(c)),a=-1;for(var f=0;f<w.length;f++){var h=n.indexOf(w[f]);h!==-1&&(a===-1||h<a)&&(a=h)}a===-1&&(a=n.length),this.host=n.slice(0,a),n=n.slice(a),this.parseHost(),this.hostname=this.hostname||"";var d="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!d)for(var y=this.hostname.split(/\./),f=0,$=y.length;f<$;f++){var k=y[f];if(k&&!k.match(A)){for(var P="",_=0,q=k.length;_<q;_++)P+=k.charCodeAt(_)>127?"x":k[_];if(!P.match(A)){var H=y.slice(0,f),F=y.slice(f+1),I=k.match(E);I&&(H.push(I[1]),F.unshift(I[2])),F.length&&(n="/"+F.join(".")+n),this.hostname=H.join(".");break}}}if(this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),!d){for(var C=this.hostname.split("."),R=[],f=0;f<C.length;++f){var U=C[f];R.push(U.match(/[^A-Za-z0-9_-]/)?"xn--"+l.encode(U):U)}this.hostname=R.join(".")}var T=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+T,this.href+=this.host,d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!S[o])for(var f=0,$=b.length;f<$;f++){var B=b[f],z=encodeURIComponent(B);z===B&&(z=escape(B)),n=n.split(B).join(z)}var N=n.indexOf("#");N!==-1&&(this.hash=n.substr(N),n=n.slice(0,N));var Z=n.indexOf("?");if(Z!==-1?(this.search=n.substr(Z),this.query=n.substr(Z+1),t&&(this.query=O.parse(this.query)),n=n.slice(0,Z)):t&&(this.search="",this.query={}),n&&(this.pathname=n),x[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var T=this.pathname||"",U=this.search||"";this.path=T+U}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&f(this.query)&&Object.keys(this.query).length&&(o=O.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||x[t])&&i!==!1?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+i+r+s+n},n.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(u(e)){var t=new n;t.parse(e,!1,!0),e=t}var r=new n;if(Object.keys(this).forEach(function(e){r[e]=this[e]},this),r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(r[t]=e[t])}),x[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(e.protocol&&e.protocol!==r.protocol){if(!x[e.protocol])return Object.keys(e).forEach(function(t){r[t]=e[t]}),r.href=r.format(),r;if(r.protocol=e.protocol,e.host||j[e.protocol])r.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),r.pathname=i.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var o=r.pathname||"",s=r.search||"";r.path=o+s}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var a=r.pathname&&"/"===r.pathname.charAt(0),f=e.host||e.pathname&&"/"===e.pathname.charAt(0),l=f||a||r.host&&e.pathname,p=l,m=r.pathname&&r.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],d=r.protocol&&!x[r.protocol];if(d&&(r.hostname="",r.port=null,r.host&&(""===m[0]?m[0]=r.host:m.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),l=l&&(""===i[0]||""===m[0])),f)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,m=i;else if(i.length)m||(m=[]),m.pop(),m=m.concat(i),r.search=e.search,r.query=e.query;else if(!c(e.search)){if(d){r.hostname=r.host=m.shift();var y=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");y&&(r.auth=y.shift(),r.host=r.hostname=y.shift())}return r.search=e.search,r.query=e.query,h(r.pathname)&&h(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!m.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var b=m.slice(-1)[0],w=(r.host||e.host)&&("."===b||".."===b)||""===b,g=0,v=m.length;v>=0;v--)b=m[v],"."==b?m.splice(v,1):".."===b?(m.splice(v,1),g++):g&&(m.splice(v,1),g--);if(!l&&!p)for(;g--;g)m.unshift("..");!l||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),w&&"/"!==m.join("/").substr(-1)&&m.push("");var A=""===m[0]||m[0]&&"/"===m[0].charAt(0);if(d){r.hostname=r.host=A?"":m.length?m.shift():"";var y=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");y&&(r.auth=y.shift(),r.host=r.hostname=y.shift())}return l=l||r.host&&m.length,l&&!A&&m.unshift(""),m.length?r.pathname=m.join("/"):(r.pathname=null,r.path=null),h(r.pathname)&&h(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=m.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:2,querystring:5}],7:[function(e,t,r){var n,i,o,s,a,u,f,h,c,l,p,m,d,y,b;l=e("jssha"),m=e("./stringify"),o=e("jsonschema").Validator,y=new o,p=e("./schema/shelf-schema.json"),h=e("./schema/couchtable-schema.json"),d=e("./schema/table-schema.json"),b=e("./schema/wardrobe-schema.json"),s="0.2",n="SHA-1",i="0111201600",u=function(e){if(!e.hasOwnProperty("structure"))throw new Error("missing structure attribute");if(1!==Object.keys(e).length)throw new Error("there must be structure attribute only")},a=function(e){return JSON.parse(JSON.stringify(e))},f=function(e){var t,r,n,i,o;if(e=a(e),n=y.validate(e,p),t=y.validate(e,h),i=y.validate(e,d),o=y.validate(e,b),n.errors.length&&t.errors.length&&i.errors.length&&o.errors.length)throw r={shelf:n.errors,couchtable:t.errors,table:i.errors,wardrobe:o.errors},new Error("structure is invalid for any existing scheme"+JSON.stringify(r,null,2))},c=function(e){var t,r;return e=a(e),u(e),f(e.structure),r=m.stringify(e),t=new l(n,"TEXT"),t.setHMACKey(i,"TEXT"),t.update(r),t.getHMAC("HEX")},t.exports=c},{"./schema/couchtable-schema.json":10,"./schema/shelf-schema.json":11,"./schema/table-schema.json":12,"./schema/wardrobe-schema.json":13,"./stringify":14,jsonschema:17,jssha:1}],8:[function(e,t,r){var n,i,o,s,a,u,f,h;f=e("jssha"),h=e("./stringify"),o="0.2",n="SHA-1",i="0111201600",a=function(e){if(!e.hasOwnProperty("camera"))throw new Error("missing camera attribute");if(!e.camera.hasOwnProperty("angle"))throw new Error("missing angle attribute in camera");if(!e.hasOwnProperty("structure"))throw new Error("missing structure attribute");if(!e.hasOwnProperty("quality"))throw new Error("missing quality attribute");if(3!==Object.keys(e).length)throw new Error("there must exactly be the attributes camera, structure and quality");if(null==e.camera.vAngle)return e.camera.vAngle=0},s=function(e){return JSON.parse(JSON.stringify(e))},u=function(e){var t,r;return e=s(e),a(e),r=h.stringify(e),t=new f(n,"TEXT"),t.setHMACKey(i,"TEXT"),t.update(r),t.getHMAC("HEX")},t.exports=u},{"./stringify":14,jssha:1}],9:[function(e,t,r){t.exports={hashImage:e("./mycs-hash-image"),hashDesign:e("./mycs-hash-design")}},{"./mycs-hash-design":7,"./mycs-hash-image":8}],10:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://mycs.com/schemas/furnitures/table",definitions:{sku:{type:"string",description:"unique id of a component in our furniture component store"},element:{type:"object",additionalProperties:!1,required:["sku"],properties:{sku:{$ref:"#/definitions/sku"}}}},type:"array",minItems:1,items:{type:"object",additionalProperties:!1,required:["clegs","ctop"],properties:{clegs:{type:"object",additionalProperties:!1,required:["back","front_left","front_right"],properties:{back:{$ref:"#/definitions/element"},front_left:{$ref:"#/definitions/element"},front_right:{$ref:"#/definitions/element"}}},ctop:{$ref:"#/definitions/element"}}}}},{}],11:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-04/schema#",
id:"http://mycs.com/schemas/furnitures/shelf",definitions:{sku:{type:"string",description:"unique id of a component in our furniture component store",pattern:"^(\\d+\\.)+[\\d]+$"},position:{type:"number",description:"position by X of the element"},h_position:{type:"number",description:"position by Z of the element"},element:{type:"object",additionalProperties:!1,required:["sku"],properties:{sku:{$ref:"#/definitions/sku"}}},positioned_element:{type:"object",additionalProperties:!1,required:["sku","position"],properties:{sku:{$ref:"#/definitions/sku"},position:{$ref:"#/definitions/position"}}},vertically_positioned_element:{type:"object",additionalProperties:!1,required:["sku","position","h_position"],properties:{sku:{$ref:"#/definitions/sku"},position:{$ref:"#/definitions/position"},h_position:{$ref:"#/definitions/h_position"}}},legs:{type:"array",description:"type for shelf's legs",minItems:1,items:{$ref:"#/definitions/element"}},handle_type:{type:"string","enum":["center","left","right"]},handle_element:{type:"object",additionalProperties:!1,required:["sku","position","h_position","type"],properties:{sku:{$ref:"#/definitions/sku"},position:{$ref:"#/definitions/position"},h_position:{$ref:"#/definitions/h_position"},type:{$ref:"#/definitions/handle_type"}}}},type:"object",additionalProperties:!1,required:["columns"],properties:{columns:{type:"array",uniqueItems:!0,minItems:1,items:{type:"object",additionalProperties:!1,required:["boards","fronts","position","wallLeft","wallRight"],dependencies:{legPlatforms:["legs"],legs:["legPlatforms"]},properties:{position:{$ref:"#/definitions/position"},wallLeft:{type:"array",uniqueItems:!0,items:{$ref:"#/definitions/element"}},wallRight:{type:"array",uniqueItems:!0,minItems:1,items:{$ref:"#/definitions/element"}},backwalls:{type:"array",uniqueItems:!0,items:{$ref:"#/definitions/positioned_element"}},boards:{type:"array",uniqueItems:!0,minItems:2,items:{$ref:"#/definitions/positioned_element"}},fronts:{type:"array",uniqueItems:!0,items:{$ref:"#/definitions/vertically_positioned_element"}},handles:{type:"array",uniqueItems:!0,items:{$ref:"#/definitions/handle_element"}},legPlatforms:{$ref:"#/definitions/legs"},legs:{$ref:"#/definitions/legs"}}}}}}},{}],12:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://mycs.com/schemas/furnitures/table",definitions:{sku:{type:"string",description:"unique id of a component in our furniture component store"},element:{type:"object",additionalProperties:!1,required:["sku"],properties:{sku:{$ref:"#/definitions/sku"}}},drawer:{type:"object",additionalProperties:!1,required:["drawer_box","drawer_front"],properties:{drawer_box:{$ref:"#/definitions/element"},drawer_front:{$ref:"#/definitions/element"}}},drawers:{type:"object",additionalProperties:!1,properties:{single_drawer:{$ref:"#/definitions/drawer"},left_drawer:{$ref:"#/definitions/drawer"},right_drawer:{$ref:"#/definitions/drawer"}}}},type:"object",required:["tops","legs"],additionalProperties:!1,properties:{tops:{type:"object",required:["tabletop"],additionalProperties:!1,properties:{tabletop:{$ref:"#/definitions/element"}}},legs:{type:"object",additionalProperties:!1,oneOf:[{required:["left","right"]},{required:["back_left","back_right","front_left","front_right"]}],properties:{back_left:{$ref:"#/definitions/element"},back_right:{$ref:"#/definitions/element"},front_left:{$ref:"#/definitions/element"},front_right:{$ref:"#/definitions/element"},left:{$ref:"#/definitions/element"},right:{$ref:"#/definitions/element"}}},extensions:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/element"},right:{$ref:"#/definitions/element"}}},frames:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/element"},right:{$ref:"#/definitions/element"},back:{$ref:"#/definitions/element"},front:{$ref:"#/definitions/element"}}},back_drawers:{$ref:"#/definitions/drawers"},front_drawers:{$ref:"#/definitions/drawers"}}}},{}],13:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://mycs.com/schemas/furnitures/wardrobes",definitions:{sku:{type:"string",description:"unique id of a component in our furniture component store",pattern:"^(\\d+\\.)+[\\d]+$"},cluster:{type:"integer",description:"id to mark a group of columns belonging to the same sliding door system"},z:{type:"number",description:"translation along in the scene's upward direction for interior components, 0 being the bottom of the interior of the corpus"},element:{type:"object",additionalProperties:!1,required:["sku"],properties:{sku:{$ref:"#/definitions/sku"}}},positioned_element:{type:"object",additionalProperties:!1,required:["sku","z"],properties:{sku:{$ref:"#/definitions/sku"},z:{$ref:"#/definitions/z"}}},positioned_elements:{type:"array",uniqueItems:!0,minItems:0,items:{$ref:"#/definitions/positioned_element"}}},type:"object",additionalProperties:!1,required:["outer_wall_left","outer_wall_right","columns"],properties:{outer_wall_left:{$ref:"#/definitions/element"},outer_wall_right:{$ref:"#/definitions/element"},columns:{type:"array",minItems:1,items:{type:"object",additionalProperties:!1,required:["cluster","corpus","backwall"],properties:{cluster:{$ref:"#/definitions/cluster"},corpus:{$ref:"#/definitions/element"},doors:{type:"array",minItems:0,items:{type:"object",additionalProperties:!1,required:["door","handles"],properties:{door:{$ref:"#/definitions/element"},handles:{type:"array",minItems:1,items:{$ref:"#/definitions/element"}}}}},boards:{$ref:"#/definitions/positioned_elements"},drawers:{$ref:"#/definitions/positioned_elements"},shoe_drawers:{$ref:"#/definitions/positioned_elements"},cloth_rails:{$ref:"#/definitions/positioned_elements"},lifts:{$ref:"#/definitions/positioned_elements"},backwall:{$ref:"#/definitions/element"}}}}}}},{}],14:[function(e,t,r){var n,i=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(){this._stringify=i(this._stringify,this),this.stringify=i(this.stringify,this),this._init()}return e.prototype.stringify=function(e){return this._init(),this._stringify({"":e},"",e,0)},e.prototype._init=function(){return this.opts={},this.space=this.opts.space||"","number"==typeof this.space&&(this.space=Array(this.space+1).join(" ")),this.cycles="boolean"==typeof this.opts.cycles&&this.opts.cycles,this.replacer=this.opts.replacer||function(e,t){return t},this.seen=[]},e.prototype._isArray=function(e){var t;return t=Array.isArray(e),t?t:"[object Array]"==={}.toString.call(e)},e.prototype._stringify=function(e,t,r,n){var i,o,s,a,u,f,h,c,l,p,m,d;if(s=this.space,i=this.space?": ":":",r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),r=this.replacer.call(e,t,r),null!=r){if("object"!=typeof r||null===r)return JSON.stringify(r);if(this._isArray(r)){for(l=[],o=u=0,p=r.length;0<=p?u<p:u>p;o=0<=p?++u:--u)a=this._stringify(r,o,r[o],n+1)||JSON.stringify(null),l.push(s+this.space+a);return l.sort(),"["+l.join(",")+s+"]"}if(this.seen.indexOf(r)!==-1){if(this.cycles)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(this.seen.push(r),c=Object.keys(r).sort(),l=[],o=f=0,m=c.length;0<=m?f<m:f>m;o=0<=m?++f:--f)t=c[o],d=this._stringify(r,t,r[t],n+1),d&&(h=JSON.stringify(t)+i+d,l.push(s+this.space+h));return"{"+l.join(",")+s+"}"}},e}(),t.exports=new n},{}],15:[function(e,t,r){"use strict";function n(e,t,r,n){return this.validateSchema(e,n,t,r).valid}function i(e,t,r,n,i,o){if(!t.properties||void 0===t.properties[i])if(t.additionalProperties===!1)o.addError({name:"additionalProperties",argument:i,message:"additionalProperty "+JSON.stringify(i)+" exists in instance when not allowed"});else{var s=t.additionalProperties||{},a=this.validateSchema(e[i],s,r,n.makeChild(s,i));a.instance!==o.instance[i]&&(o.instance[i]=a.instance),o.importErrors(a)}}function o(e,t,r){var n,i=r.length;for(n=t+1,i;n<i;n++)if(s.deepCompareStrict(e,r[n]))return!1;return!0}var s=e("./helpers"),a=s.ValidatorResult,u=s.SchemaError,f={};f.ignoreProperties={id:!0,"default":!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,"extends":!0};var h=f.validators={};h.type=function(e,t,r,n){if(void 0===e)return null;var i=new a(e,t,r,n),o=t.type instanceof Array?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,r,n))){var s=o.map(function(e){return e.id&&"<"+e.id+">"||e+""});i.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return i},h.anyOf=function(e,t,r,i){if(void 0===e)return null;var o=new a(e,t,r,i);if(!(t.anyOf instanceof Array))throw new u("anyOf must be an array");if(!t.anyOf.some(n.bind(this,e,r,i))){var s=t.anyOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});o.addError({name:"anyOf",argument:s,message:"is not any of "+s.join(",")})}return o},h.allOf=function(e,t,r,n){if(void 0===e)return null;if(!(t.allOf instanceof Array))throw new u("allOf must be an array");var i=new a(e,t,r,n),o=this;return t.allOf.forEach(function(t,s){var a=o.validateSchema(e,t,r,n);if(!a.valid){var u=t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+s+"]";i.addError({name:"allOf",argument:{id:u,length:a.errors.length,valid:a},message:"does not match allOf schema "+u+" with "+a.errors.length+" error[s]:"}),i.importErrors(a)}}),i},h.oneOf=function(e,t,r,i){if(void 0===e)return null;if(!(t.oneOf instanceof Array))throw new u("oneOf must be an array");var o=new a(e,t,r,i),s=t.oneOf.filter(n.bind(this,e,r,i)).length,f=t.oneOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});return 1!==s&&o.addError({name:"oneOf",argument:f,message:"is not exactly one from "+f.join(",")}),o},h.properties=function(e,t,r,n){if(void 0!==e&&e instanceof Object){var i=new a(e,t,r,n),o=t.properties||{};for(var s in o){var u=(e||void 0)&&e[s],f=this.validateSchema(u,o[s],r,n.makeChild(o[s],s));f.instance!==i.instance[s]&&(i.instance[s]=f.instance),i.importErrors(f)}return i}},h.patternProperties=function(e,t,r,n){if(void 0!==e&&this.types.object(e)){var o=new a(e,t,r,n),s=t.patternProperties||{};for(var u in e){var f=!0;for(var h in s){var c=new RegExp(h);if(c.test(u)){f=!1;var l=this.validateSchema(e[u],s[h],r,n.makeChild(s[h],u));l.instance!==o.instance[u]&&(o.instance[u]=l.instance),o.importErrors(l)}}f&&i.call(this,e,t,r,n,u,o)}return o}},h.additionalProperties=function(e,t,r,n){if(void 0!==e&&this.types.object(e)){if(t.patternProperties)return null;var o=new a(e,t,r,n);for(var s in e)i.call(this,e,t,r,n,s,o);return o}},h.minProperties=function(e,t,r,n){if(!e||"object"!=typeof e)return null;var i=new a(e,t,r,n),o=Object.keys(e);return o.length>=t.minProperties||i.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),i},h.maxProperties=function(e,t,r,n){if(!e||"object"!=typeof e)return null;var i=new a(e,t,r,n),o=Object.keys(e);return o.length<=t.maxProperties||i.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),i},h.items=function(e,t,r,n){if(!(e instanceof Array))return null;var i=this,o=new a(e,t,r,n);return void 0!==e&&t.items?(e.every(function(e,s){var a=t.items instanceof Array?t.items[s]||t.additionalItems:t.items;if(void 0===a)return!0;if(a===!1)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=i.validateSchema(e,a,r,n.makeChild(a,s));return u.instance!==o.instance[s]&&(o.instance[s]=u.instance),o.importErrors(u),!0}),o):o},h.minimum=function(e,t,r,n){if("number"!=typeof e)return null;var i=new a(e,t,r,n),o=!0;return o=t.exclusiveMinimum&&t.exclusiveMinimum===!0?e>t.minimum:e>=t.minimum,o||i.addError({name:"minimum",argument:t.minimum,message:"must have a minimum value of "+t.minimum}),i},h.maximum=function(e,t,r,n){if("number"!=typeof e)return null;var i,o=new a(e,t,r,n);return i=t.exclusiveMaximum&&t.exclusiveMaximum===!0?e<t.maximum:e<=t.maximum,i||o.addError({name:"maximum",argument:t.maximum,message:"must have a maximum value of "+t.maximum}),o},h.divisibleBy=function(e,t,r,n){if("number"!=typeof e)return null;if(0==t.divisibleBy)throw new u("divisibleBy cannot be zero");var i=new a(e,t,r,n);return e/t.divisibleBy%1&&i.addError({name:"divisibleBy",argument:t.divisibleBy,message:"is not divisible by (multiple of) "+JSON.stringify(t.divisibleBy)}),i},h.multipleOf=function(e,t,r,n){if("number"!=typeof e)return null;if(0==t.multipleOf)throw new u("multipleOf cannot be zero");var i=new a(e,t,r,n);return e/t.multipleOf%1&&i.addError({name:"multipleOf",argument:t.multipleOf,message:"is not a multiple of (divisible by) "+JSON.stringify(t.multipleOf)}),i},h.required=function(e,t,r,n){var i=new a(e,t,r,n);return void 0===e&&t.required===!0?i.addError({name:"required",message:"is required"}):e&&"object"==typeof e&&Array.isArray(t.required)&&t.required.forEach(function(t){void 0===e[t]&&i.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})}),i},h.pattern=function(e,t,r,n){if("string"!=typeof e)return null;var i=new a(e,t,r,n);return e.match(t.pattern)||i.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern)}),i},h.format=function(e,t,r,n){var i=new a(e,t,r,n);return i.disableFormat||s.isFormat(e,t.format,this)||i.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),i},h.minLength=function(e,t,r,n){if("string"!=typeof e)return null;var i=new a(e,t,r,n);return e.length>=t.minLength||i.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),i},h.maxLength=function(e,t,r,n){if("string"!=typeof e)return null;var i=new a(e,t,r,n);return e.length<=t.maxLength||i.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),i},h.minItems=function(e,t,r,n){if(!(e instanceof Array))return null;var i=new a(e,t,r,n);return e.length>=t.minItems||i.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),i},h.maxItems=function(e,t,r,n){if(!(e instanceof Array))return null;var i=new a(e,t,r,n);return e.length<=t.maxItems||i.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),i},h.uniqueItems=function(e,t,r,n){function i(e,t,r){for(var n=t+1;n<r.length;n++)if(s.deepCompareStrict(e,r[n]))return!1;return!0}var o=new a(e,t,r,n);return e instanceof Array?(e.every(i)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o):o},h.uniqueItems=function(e,t,r,n){if(!(e instanceof Array))return null;var i=new a(e,t,r,n);return e.every(o)||i.addError({name:"uniqueItems",message:"contains duplicate item"}),i},h.dependencies=function(e,t,r,n){if(!e||"object"!=typeof e)return null;var i=new a(e,t,r,n);for(var o in t.dependencies)if(void 0!==e[o]){var s=t.dependencies[o],u=n.makeChild(s,o);if("string"==typeof s&&(s=[s]),s instanceof Array)s.forEach(function(t){void 0===e[t]&&i.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})});else{var f=this.validateSchema(e,s,r,u);i.instance!==f.instance&&(i.instance=f.instance),f&&f.errors.length&&(i.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),i.importErrors(f))}}return i},h["enum"]=function(e,t,r,n){if(!(t["enum"]instanceof Array))throw new u("enum expects an array",t);if(void 0===e)return null;var i=new a(e,t,r,n);return t["enum"].some(s.deepCompareStrict.bind(null,e))||i.addError({name:"enum",argument:t["enum"],message:"is not one of enum values: "+t["enum"].join(",")}),i},h.not=h.disallow=function(e,t,r,n){var i=this;if(void 0===e)return null;var o=new a(e,t,r,n),s=t.not||t.disallow;return s?(s instanceof Array||(s=[s]),s.forEach(function(s){if(i.testType(e,t,r,n,s)){var a=s&&s.id&&"<"+s.id+">"||s;o.addError({name:"not",argument:a,message:"is of prohibited type "+a})}}),o):null},t.exports=f},{"./helpers":16}],16:[function(e,t,r){"use strict";var n=e("url"),i=r.ValidationError=function(e,t,r,n,i,o){n&&(this.property=n),e&&(this.message=e),r&&(r.id?this.schema=r.id:this.schema=r),t&&(this.instance=t),this.name=i,this.argument=o,this.stack=this.toString()};i.prototype.toString=function(){return this.property+" "+this.message};var o=r.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.disableFormat=r&&r.disableFormat===!0};o.prototype.addError=function(e){var t;if("string"==typeof e)t=new i(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new i(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},o.prototype.importErrors=function(e){if("string"==typeof e||e&&e.validatorType)this.addError(e);else if(e&&e.errors){var t=this.errors;e.errors.forEach(function(e){t.push(e)})}},o.prototype.toString=function(e){return this.errors.map(function(e,t){return t+": "+e.toString()+"\n"}).join("")},Object.defineProperty(o.prototype,"valid",{get:function(){return!this.errors.length}});var s=r.SchemaError=function h(e,t){this.message=e,this.schema=t,Error.call(this,e),Error.captureStackTrace(this,h)};s.prototype=Object.create(Error.prototype,{constructor:{value:s,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var a=r.SchemaContext=function(e,t,r,n,i){this.schema=e,this.options=t,this.propertyPath=r,this.base=n,this.schemas=i};a.prototype.resolve=function(e){return n.resolve(this.base,e)},a.prototype.makeChild=function(e,t){var r=void 0===t?this.propertyPath:this.propertyPath+f(t),i=n.resolve(this.base,e.id||""),o=new a(e,this.options,r,i,Object.create(this.schemas));return e.id&&!o.schemas[i]&&(o.schemas[i]=e),o};var u=r.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(r){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],r.isFormat=function(e,t,r){if("string"==typeof e&&void 0!==u[t]){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var f=r.makeSuffix=function(e){return e=e.toString(),e.match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};r.deepCompareStrict=function c(e,t){if(typeof e!=typeof t)return!1;if(e instanceof Array)return t instanceof Array&&(e.length===t.length&&e.every(function(r,n){return c(e[n],t[n])}));if("object"==typeof e){if(!e||!t)return e===t;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(function(r){return c(e[r],t[r])})}return e===t},t.exports.deepMerge=function l(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(function(t,r){"object"==typeof t?n[r]=l(e[r],t):e.indexOf(t)===-1&&n.push(t)})):(e&&"object"==typeof e&&Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(r){"object"==typeof t[r]&&t[r]&&e[r]?n[r]=l(e[r],t[r]):n[r]=t[r]})),n},r.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var i=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},r.encodePath=function(e){return e.map(function(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}).join("")}},{url:6}],17:[function(e,t,r){"use strict";var n=t.exports.Validator=e("./validator");t.exports.ValidatorResult=e("./helpers").ValidatorResult,t.exports.ValidationError=e("./helpers").ValidationError,t.exports.SchemaError=e("./helpers").SchemaError,t.exports.validate=function(e,t,r){var i=new n;return i.validate(e,t,r)}},{"./helpers":16,"./validator":18}],18:[function(e,t,r){"use strict";var n=e("url"),i=e("./attribute"),o=e("./helpers"),s=o.ValidatorResult,a=o.SchemaError,u=o.SchemaContext,f=function c(){this.customFormats=Object.create(c.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(h),this.attributes=Object.create(i.validators)};f.prototype.customFormats={},f.prototype.schemas=null,f.prototype.types=null,f.prototype.attributes=null,f.prototype.unresolvedRefs=null,f.prototype.addSchema=function(e,t){if(!e)return null;var r=t||e.id;return this.addSubSchema(r,e),r&&(this.schemas[r]=e),this.schemas[r]},f.prototype.addSubSchema=function(e,t){if(t&&"object"==typeof t){if(t.$ref){var r=n.resolve(e,t.$ref);return void(void 0===this.schemas[r]&&(this.schemas[r]=null,this.unresolvedRefs.push(r)))}var i=t.id&&n.resolve(e,t.id),s=i||e;if(i){if(this.schemas[i]){if(!o.deepCompareStrict(this.schemas[i],t))throw new Error("Schema <"+t+"> already exists with different definition");return this.schemas[i]}this.schemas[i]=t;var a=i.replace(/^([^#]*)#$/,"$1");this.schemas[a]=t}return this.addSubSchemaArray(s,t.items instanceof Array?t.items:[t.items]),this.addSubSchemaArray(s,t["extends"]instanceof Array?t["extends"]:[t["extends"]]),this.addSubSchema(s,t.additionalItems),this.addSubSchemaObject(s,t.properties),this.addSubSchema(s,t.additionalProperties),this.addSubSchemaObject(s,t.definitions),this.addSubSchemaObject(s,t.patternProperties),this.addSubSchemaObject(s,t.dependencies),this.addSubSchemaArray(s,t.disallow),this.addSubSchemaArray(s,t.allOf),this.addSubSchemaArray(s,t.anyOf),this.addSubSchemaArray(s,t.oneOf),this.addSubSchema(s,t.not),this.schemas[i]}},f.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},f.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var r in t)this.addSubSchema(e,t[r])},f.prototype.setSchemas=function(e){this.schemas=e},f.prototype.getSchema=function(e){return this.schemas[e]},f.prototype.validate=function(e,t,r,i){r||(r={});var o=r.propertyName||"instance",s=n.resolve(r.base||"/",t.id||"");if(i||(i=new u(t,r,o,s,Object.create(this.schemas)),i.schemas[s]||(i.schemas[s]=t)),t){var f=this.validateSchema(e,t,r,i);if(!f)throw new Error("Result undefined");return f}throw new a("no schema specified",t)},f.prototype.validateSchema=function(e,t,r,n){function f(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}function h(e,t){var r;return(r=f(e))?c.resolve(e,r,t).subschema:e}var c=this,l=new s(e,t,r,n);if(!t)throw new Error("schema is undefined");t["extends"]&&(t["extends"]instanceof Array?t["extends"].forEach(function(e){t=o.deepMerge(t,h(e,n))}):t=o.deepMerge(t,h(t["extends"],n)));var p;if(p=f(t)){var m=this.resolve(t,p,n),d=new u(m.subschema,r,n.propertyPath,m.switchSchema,n.schemas);return this.validateSchema(e,m.subschema,r,d)}var y=r&&r.skipAttributes||[];for(var b in t)if(!i.ignoreProperties[b]&&y.indexOf(b)<0){var w=null,g=c.attributes[b];if(g)w=g.call(c,e,t,r,n);else if(r.allowUnknownAttributes===!1)throw new a("Unsupported attribute: "+b,t);w&&l.importErrors(w)}if("function"==typeof r.rewrite){var v=r.rewrite.call(this,e,t,r,n);l.instance=v}return l},f.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var i=n.parse(t),s=i&&i.hash,u=s&&s.length&&t.substr(0,t.length-s.length);if(!u||!r.schemas[u])throw new a("no such schema <"+t+">",e);var f=o.objectGetPath(r.schemas[u],s.substr(1));if(void 0===f)throw new a("no such schema "+s+" located in <"+u+">",e);return{subschema:f,switchSchema:t}},f.prototype.testType=function(e,t,r,n,i){if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var o=this.validateSchema(e,i,r,n);return void 0===o||!(o&&o.errors.length)}return!0};var h=f.prototype.types={};h.string=function(e){return"string"==typeof e},h.number=function(e){return"number"==typeof e&&isFinite(e)},h.integer=function(e){return"number"==typeof e&&e%1===0},h["boolean"]=function(e){return"boolean"==typeof e},h.array=function(e){return e instanceof Array},h["null"]=function(e){return null===e},h.date=function(e){return e instanceof Date},h.any=function(e){return!0},h.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},t.exports=f},{"./attribute":15,"./helpers":16,url:6}]},{},[9]);